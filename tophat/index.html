<!DOCTYPE html>
<!-- <html data-theme="stationery"> -->
<!-- <html data-theme="kaasiand"> -->
<html data-theme="hiratake">
<head>
    <meta charset="UTF-8">
    <title>tophat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="tophat">
    <meta property="og:description" content="A bitmap font creation tool.">
    <meta property="og:url" content="https://kaasiand.cool/">
    <!-- <meta property="og:image" content="https://kaasiand.cool/lingle/banner.png"> -->
    <meta property="twitter:domain" content="kaasiand.cool">
    <meta property="twitter:site" content="@kaasIand">
    <meta property="twitter:creator" content="@kaasIand">

    <meta name="theme-color" content="#f9c418">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="icon" href="favicon.png" sizes="16x16">
    <link rel="stylesheet" href="tophat.css">

    <script src="https://cdn.jsdelivr.net/npm/opentype.js@latest/dist/opentype.min.js"></script>
</head>

<body onload="init()" ondragover="tryOpenNewFontModal(event);" ondrop="dropHandler(event);">     

<div id="leftbar">
<div id="logostuff" data-ver="v0.8"><svg width="14px" height="14px" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="m12.732 1.0172a12 4 10 0 0-12.512 1.8552 12 4 10 0 0 11.123 6.0232 12 4 10 0 0 12.513-1.8557 12 4 10 0 0-11.123-6.0228zm-0.34728 1.9695a6 2 10 0 1 5.5617 3.0114 6 2 10 0 1-6.2563 0.92758 6 2 10 0 1-5.5612-3.0113 6 2 10 0 1 6.2558-0.92767zm-7.3783 7.2937-1.7427 9.8831c-0.19248 1.0878 2.2975 2.4363 5.5611 3.0118 3.2639 0.57554 6.0652 0.15998 6.2564-0.92809l1.7427-9.8831c-1.8575 0.028961-3.9276-0.14837-6.002-0.51417-2.0743-0.36577-4.08-0.9071-5.8154-1.5696z"/></svg>tophat</div>
<button id="newfontbtn" class="leftbarbtn textbtn" onclick="openNewFontModal()" data-name="New..."></button>
<button id="exportbtn" class="leftbarbtn textbtn" onclick="download()" data-name="Export .fnt"></button>
<button id="resizebtn" class="leftbarbtn textbtn" onclick="openResizeModal()" data-name="Resize font"></button>
<div class="btndivider"></div>
<button class="leftbarbtn textbtn" onclick="save()" style="padding: 5px;" data-name="Save to browser"></button>
<button class="leftbarbtn textbtn" onclick="load()" style="padding: 5px;" data-name="Load browser backup"></button>
<button id="autosavebtn" class="leftbarbtn textbtn" onclick="toggleAutoSave()" data-name="Autosave" title="Automatically save every 5 minutes (as long as the tab is active), and whenever you switch to a different glyph."></button>

<div id="blocklist">

<button class="block_category bold" onclick="this.classList.toggle('folded')"  data-group="cat_groups"></button>
<ul>
<li>
    <button class="block_category folded" onclick="this.classList.toggle('folded')" data-group="cat_latin"></button>
    <ul>
        <li><button data-group="latin_uni" ></button></li>
        <li><button data-group="enlanguage"></button></li>
        <li><button data-group="frlanguage"></button></li>
        <li><button data-group="delanguage"></button></li>
        <li><button data-group="eslanguage"></button></li>
        <li><button data-group="ptlanguage"></button></li>
        <li><button data-group="itlanguage"></button></li>
        <li><button data-group="nllanguage"></button></li>
        <li><button data-group="dk_no_lang"></button></li>
        <li><button data-group="sv_fi_lang"></button></li>
        <li><button data-group="islanguage"></button></li>
        <li><button data-group="sami_langs"></button></li>
        <!-- <li><button data-group=""></button></li>
        <li><button data-group=""></button></li>
        <li><button data-group=""></button></li>
        <li><button data-group=""></button></li>
        <li><button data-group=""></button></li> -->
    </ul>
</li>
<li>
    <button class="block_category folded" onclick="this.classList.toggle('folded')" data-group="cat_greek"></button>
    <ul>
        <li><button data-group="greek_mono"></button></li>
        <!-- <li><button data-group="greek_poly"></button></li> -->
    </ul>
</li>
<li>
    <button class="block_category folded" onclick="this.classList.toggle('folded')" data-group="cat_jpnese"></button>
    <ul>
        <li><button data-group="kana_punct"></button></li>
        <li><button data-group="kanji_comm"></button></li>
    </ul>
</li>
</ul>

<button class="block_category bold" onclick="this.classList.toggle('folded')" data-group="cat_used"></button>
<ul>
    <li><button data-group="all_glyphs"></button></li>
</ul>

<button class="block_category bold" onclick="this.classList.toggle('folded')" data-group="cat_uni"></button>
<ul>
    <li><button data-group="basiclatin"></button></li><li><button data-group="latin1supp"></button></li>
    <li><button data-group="latinext_a"></button></li><li><button data-group="latinext_b"></button></li>
    <li><button data-group="ipa_ext"   ></button></li><li><button data-group="spacingmod"></button></li>
    <li><button data-group="comb_diacr"></button></li><li><button data-group="greek_copt"></button></li>
    <li><button data-group="cyrillic"  ></button></li><li><button data-group="cyril_supp"></button></li>
    <li><button data-group="armenian"  ></button></li><li><button data-group="hebrew"    ></button></li>
    <li><button data-group="arabic"    ></button></li><li><button data-group="syriac"    ></button></li>
    <li><button data-group="arabic_sup"></button></li><li><button data-group="thaana"    ></button></li>
    <li><button data-group="nko"       ></button></li><li><button data-group="samaritan" ></button></li>
    <li><button data-group="mandaic"   ></button></li><li><button data-group="syriac_sup"></button></li>
    <li><button data-group="arabic_x_b"></button></li><li><button data-group="arabic_x_a"></button></li>
    <li><button data-group="devanagari"></button></li><li><button data-group="bengali"   ></button></li>
    <li><button data-group="gurmukhi"  ></button></li><li><button data-group="gujarati"  ></button></li>
    <li><button data-group="oriya"     ></button></li><li><button data-group="tamil"     ></button></li>
    <li><button data-group="telugu"    ></button></li><li><button data-group="kannada"   ></button></li>
    <li><button data-group="malayalam" ></button></li><li><button data-group="sinhala"   ></button></li>
    <li><button data-group="thai"      ></button></li><li><button data-group="lao"       ></button></li>
    <li><button data-group="tibetan"   ></button></li>
    <li><button data-group="myanmar"   ></button></li>

    <li><button data-group="cjksympunc"></button></li>
    <li><button data-group="hiragana"  ></button></li>
    <li><button data-group="katakana"  ></button></li>
    <li><button data-group="bopomofo"  ></button></li>
    <li><button data-group="hangul_c_j"></button></li>
    <li><button data-group="kanbun"    ></button></li>
    <li><button data-group="bopomofo_x"></button></li>
    <li><button data-group="cjk_stroke"></button></li>
    <li><button data-group="katakana_x"></button></li>
    <li><button data-group="enclos_cjk"></button></li>
    <li><button data-group="cjk_compat"></button></li>
    <li><button class="block_category folded" onclick="this.classList.toggle('folded')" data-group="cat_cjkuxa"></button>
        <ul>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r0"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r1"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r2"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r3"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r4"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r5"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r6"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r7"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r8"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_r9"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_rA"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rxa_rB"></button></li>
        </ul></li>
    <li><button data-group="yijing_hex"></button></li>
    <li><button class="block_category folded" onclick="this.classList.toggle('folded')" data-group="cat_cjkuir"></button>
        <ul>
            <li><button style="font-size: 13px" data-group="cjk_rad_r0"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r1"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r2"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r3"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r4"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r5"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r6"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r7"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r8"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_r9"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rA"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rB"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rC"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rD"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rE"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rF"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rG"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rH"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rI"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rJ"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rK"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rL"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rM"></button></li>
            <li><button style="font-size: 13px" data-group="cjk_rad_rN"></button></li>
        </ul></li>
        <!-- 
    <li><button class="block_category folded" onclick="this.classList.toggle('folded')" data-group="cat_cjkuic"></button>
        <ul>
            <li><button data-group="cjk_rad_c0"></button></li>
            <li><button data-group="cjk_rad_c1"></button></li>
        </ul></li> -->
    <li><button data-group="yi_syllabl"></button></li>
    <li><button data-group="yi_radical"></button></li>
    <li><button class="block_category folded" onclick="this.classList.toggle('folded')" data-group="cat_prvuse"></button>
        <ul>
            <li><button data-group="privateus0"></button></li>
            <li><button data-group="privateus1"></button></li>
            <li><button data-group="privateus2"></button></li>
            <li><button data-group="privateus3"></button></li>
            <li><button data-group="privateus4"></button></li>
        </ul>
    </li>
</ul>
</div>
</div>


<div id="main_cont">
<div id="glyphedit_preview_cont">

<table id="glyphedit_cont">
<tr>
    <td class="areaheader" colspan="2">Glyph editor</td>
</tr>
<tr>
    <td></td>
    <td class="glyphhead">
        <span id="codepointname"></span>
        <span id="letterbox"><span id="letterboxspan"></span></span>
        <div class="btndivider" style="flex-grow: 1;"></div>
        <button onclick="flip(true)"  class="toolbtn fliph" title="Flip horizontally"></button>
        <button onclick="flip(false)" class="toolbtn flipv" title="Flip vertically"></button>
        <div class="btndivider"></div>
        <button onclick="cut()"   class="toolbtn cut"  style="font-size: 16px;" title="Cut" aria-label="Cut">cut</button>
        <button onclick="copy()"  class="toolbtn copy"  title="Copy"  aria-label="Copy" ></button>
        <button onclick="paste()" class="toolbtn paste" title="Paste" aria-label="Paste"></button>
    </td>
</tr>
<tr>
    <td id="toollist" rowspan="4">
        <button onclick="setTool('pencil')"  id="pencil" class="toolbtn" title="Pencil"  aria-label="Pencil tool"></button>
        <button onclick="setTool('milk')"    id="milk"   class="toolbtn" title="Spill"   aria-label="Spill tool"></button>
        <button onclick="setTool('syringe')" id="syringe"class="toolbtn" title="Syringe" aria-label="Syringe tool"></button>
        <div class="btndivider"></div>
        <button onclick="setTool('select')"  id="select" class="toolbtn" title="Select"  aria-label="Selection tool"></button>
        <button onclick="setTool('move')"    id="move"   class="toolbtn" title="Move"    aria-label="Move tool"></button>
        <div class="btndivider"></div>
        <button id="cbtnt" onclick="setColour(  0,  0,  0,  0)" class="colourbtn"        style="--clr:#0000" title="Transparent"aria-label="Transparent"></button>
        <button id="cbtnb" onclick="setColour(  0,  0,  0,255)" class="colourbtn active" style="--clr:#000"  title="Black"      aria-label="Black"></button>
        <button id="cbtnw" onclick="setColour(255,255,255,255)" class="colourbtn"        style="--clr:#fff"  title="White"      aria-label="White"></button>

    </td>
    <td id="glyphcanv_bar_cont">
        <div id="glyphimg_cont">
            <canvas id="glyphcanv"></canvas>
            <div id="glyphcanvoverlay">
                <div id="glyphcanvgrid"></div>
                <div id="glyphcanvselection"></div>
                <div id="guide_capheight" class="guideline"></div>
                <div id="guide_xheight"   class="guideline"></div>
                <div id="guide_baseline"  class="guideline"></div>
            </div>
        </div>
        <div id="adv_width_bar">
            <div id="adv_width_slider"></div>
        </div>
    </td>
</tr>
<tr>
    <td><button id="autoadvbtn" class="textbtn" onclick="toggleAutoAdjust()" style="width:370px">Auto-adjust advance width</button></td>
</tr>
<tr>
    <td><div style="display: flex; width: 370px; gap: 8px; font-size: 14px;">
        <div    id="setguide_lbl" class="btnlabel" style="white-space: nowrap;padding-right:0;margin-right: -2px;">Set guide</div>
        <button id="baseline_btn" class="textbtn" onclick="setGuide('baseline')" style="padding: 5px; flex-grow: 1;">Baseline</button>
        <button id="x_height_btn" class="textbtn" onclick="setGuide('xHeight')"  style="padding: 5px; flex-grow: 1;">x-height</button>
        <button id="capheightbtn" class="textbtn" onclick="setGuide('capHeight')"style="padding: 5px; flex-grow: 1;">Cap height</button>
    </div></td>
</tr>
<tr>
    <td style="display: flex; width: 370px; gap: 8px; font-size: 14px;">
        <div id="copyoverlbl1" class="btnlabel" style="white-space: nowrap;padding-right:0;margin-right: -2px;order:1"></div>
        <button id="copyovergbtn" class="textbtn" onclick="if (copyoverin.value) copyoverGlyph(copyoverin.value);" style="flex-grow: 1; padding:5px;order:3"></button>
        <button id="copyoverkbtn" class="textbtn" onclick="if (copyoverin.value) copyoverKern(copyoverin.value);"  style="flex-grow: 1; padding:5px;order:3"></button>
        <div id="copyoverlbl2" class="btnlabel" style="white-space: nowrap;padding-right:0;margin-right: -2px;order:5"></div>
        <input id="copyoverin" style="width:28px;order:0" maxlength="1">
    </td>
</tr>
</table>

<table id="preview_cont">
<tr><td class="areaheader">Font preview</td></tr>
<tr><td><div style="height: calc(var(--glyphheightpx) * 5.5); overflow: hidden auto; max-width: 400px;"><canvas id="preview_image"></canvas></div></td></tr>
<tr><td><textarea id="preview_input" oninput="settings.previewtext = this.value; updatePreview()"></textarea></td></tr>
<tr><td>
    <table style="border-collapse: collapse;">
        <tr><td style="padding-right: 10px; white-space: nowrap;font-size:14px;">Tracking</td>
            <td style="display: flex">
                <button onclick="setTracking(settings.tracking-1)" class="toolbtn minus" style="width:auto;"></button>
                <input id="trackinginput" oninput="this.value = ~~this.value" maxlength="2" style="width: 48px; margin-right:1px">
                <button onclick="setTracking(settings.tracking+1)" class="toolbtn plus" style="width:auto;"></button>
            </td></tr>
        <tr><td style="padding-right: 10px; white-space: nowrap;font-size:14px;">Leading</td>
            <td style="display: flex">
                <button onclick="setLeading(settings.leading-1)" class="toolbtn minus" style="width:auto;"></button>
                <input id="leadinginput" oninput="this.value = ~~this.value" maxlength="2" style="width: 48px; margin-right:1px">
                <button onclick="setLeading(settings.leading+1)" class="toolbtn plus" style="width:auto;"></button>
            </td></tr>

    </table>
</td></tr>
</table>

</div>

<div id="glyphlist_kern_cont">

    <div id="glyphlist_cont">
        <div class="areaheader">
            Glyphs
        </div>
        <div style="display: flex;">
            <button onclick="setTagSelectedGlyphs('r')" class="toolbtn tag" id="tagbtn_r" title="Set tag to Red"    aria-label="Set tag to Red"></button>
            <button onclick="setTagSelectedGlyphs('y')" class="toolbtn tag" id="tagbtn_y" title="Set tag to Yellow" aria-label="Set tag to Yellow"></button>
            <button onclick="setTagSelectedGlyphs('g')" class="toolbtn tag" id="tagbtn_g" title="Set tag to Green"  aria-label="Set tag to Green"></button>
            <button onclick="setTagSelectedGlyphs('b')" class="toolbtn tag" id="tagbtn_b" title="Set tag to Blue"   aria-label="Set tag to Blue"></button>
            <button onclick="setTagSelectedGlyphs('')"  class="toolbtn notag"                 title="Remove tag"        aria-label="Remove tag"></button>
            <div class="btndivider" style="flex-grow: 1;"></div>
            <button id="scale1btn" onclick="setScale(1)" class="toolbtn scale1" title="Zoom 100%" aria-label="Zoom 100%"></button>
            <button id="scale2btn" onclick="setScale(2)" class="toolbtn scale2" title="Zoom 200%" aria-label="Zoom 200%"></button>
            <div class="btndivider"></div>
            <button onclick="deleteGlyphsAndPairs()" class="toolbtn x redbg" title="Delete selected glyphs and associated kerning pairs" aria-label="Delete glyphs and associated kerning pairs"></button>
        </div>
        <div id="glyphlist"></div>
        
        <div style="display: flex; gap: 5px">
            <button onclick="toggleSeparate()" id="separatebtn" class="textbtn" style="width:100%;" data-name="Separate tags"></button>
            <button onclick="toggleCompact()"  id="compactbtn"  class="textbtn" style="width:100%;" data-name="Compact view"></button>
        </div>

        <!-- <div id="glyphlist_notice">This is the Private Use Area. Glyphs in this block may have any appearance, depending on your installed fonts. You may define and use them however you like.</div>
        <div id="glyphlist_notice">Ceci est la Zone à usage privé. Les glyphes dans ce bloc peuvent prendre n'importe quelle apparence, en fonction de vos polices installées. Vous pouvez les définir et les utiliser comme bon vous semble.</div> -->
    </div>

    <div id="kern_cont">
    
        <div class="areaheader">
            Kerning pairs
        </div>
        <div style="display: flex; gap: 5px">
            <input id="kern_find_input" type="text" maxlength="2" placeholder="Filter pairs" oninput="loadKernPairList()">
            <input id="kern_add_input" type="text" maxlength="2" placeholder="Add pair">
            <button onclick="makeKerningPair(kern_add_input.value)" title="Add kerning pair" class="toolbtn plus"></button>
        </div>
        <div id="kernpairlist"></div>
        <div>
            <button onclick="toggleKernCurrent()" id="kerncurrentbtn" class="textbtn" style="width:100%;" data-name="Current glyph only"></button>
        </div>
    </div>

</div>

<!-- <dialog open> -->
    <div id="modal_cont" class="hidden" onclick="if (event.target == this && importfontmodal.classList.contains('hidden')) closeModal()">
        <div id="newfontmodal" class="modal hidden">
            <h1>Create new font</h1>
            <p>Start with an existing font</p>
            <p style="font-size: 14px; font-style: italic;margin-top: -8px;">For bundled .fnt + .png fonts, please upload both files simultaneously.</p>
            <div id="newfontdrop">
                <button onclick="fntpick.click()" class="textbtn leftbarbtn">Open .fnt file (or .fnt + .png)</button>
                または
                <button onclick="ttfpick.click()" class="textbtn leftbarbtn">Import .ttf or .otf</button>
                <input id="fntpick" type="file" class="hidden" accept=".fnt,.png">
                <input id="ttfpick" type="file" class="hidden" accept=".ttf,.otf,.woff">
            </div>
            <p id="impnotsupp" class="hidden" style="font-size: 14px; font-style: italic;">The uploaded font is not supported.</p>
            <hr style="border: none; border-top: 1px solid var(--lbartxt); opacity: 0.5">
            <p>or create a new one from scratch:</p>
            <table style="font-size:14px;">
                <tr>
                    <td style="padding-right: 10px;">Name</td>
                    <td style="display: flex; width: 150px"><input id="newfontmodal_namein" maxlength="32" style="width: 100%"><div style="display:inline-block; padding-top: 8px;width: 20px">.fnt</div></td>
                </tr>
                <tr>
                    <td style="padding-right: 10px;">Dimensions</td>
                    <td style="display: flex; width: 150px"><input id="newfontmodal_w_in" oninput="this.value = ~~this.value" type="number" max="99" min="2" style="width: 100%"><div style="padding: 8px 5px;">×</div><input id="newfontmodal_h_in" oninput="this.value = ~~this.value" type="number" max="99" min="2" style="width: 100%"><div style="display:inline-block; width: 20px;min-width: 20px;"></div></td>
                </tr>
            </table>
            <hr style="border: none; border-top: 1px solid var(--lbartxt); opacity: 0.5">
            <p style="font-size: 14px; font-style: italic;">This action cannot be undone with the undo feature.</p>
            <div style="display: flex; float:right; margin-top: 10px;">
                <button onclick="closeModal()" class="textbtn leftbarbtn" style="margin-left: 10px; width: auto;font-size:inherit">Cancel</button>
                <button onclick="newFont(newfontmodal_namein.value, newfontmodal_w_in.value, newfontmodal_h_in.value)" class="textbtn leftbarbtn" style="margin-left: 10px; width: auto;font-size:inherit">Create blank font</button>
            </div>
        </div>

        <div id="importfontmodal" class="modal hidden">
            <h1>Import font</h1>
            <p>Adjust font conversion settings</p>
            <table style="font-size:14px;width:100%">
                <tr>
                    <td style="padding-right: 10px; white-space: nowrap;">Preview character</td>
                    <td><input id="importfontmodal_char" onchange="updateUploadedFontPreview()" maxlength="1" style="width: 28px"></td>
                </tr>
                <tr>
                    <td style="padding-right: 10px; white-space: nowrap;">Font size</td>
                    <td><input id="importfontmodal_size" maxlength="4" oninput="this.value = Math.max(Math.min(this.value * 1 || 0,999), 0)" onchange="updateImportFontPreview()" style="width: 48px;margin-right:3px">pt</td>
                </tr>
                <tr>
                    <td colspan="2">
                        <div id="importfont_cont">
                            <div class="importfont_glyph">
                                <canvas id="prevcanvA"></canvas>
                            </div>
                            <div style="width:20px;text-align:center">&rarr;</div>
                            <div class="importfont_glyph">
                                <canvas id="prevcanvB"></canvas>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="padding-right: 10px; white-space: nowrap;">Alpha threshold</td>
                    <td style="width: 150px"><input oninput="updateUploadedFontPreview()" style="width:100%;" type="range" id="alphathresh" min="1" max="254" value="127"></td>
                </tr>
                <tr>
                    <td style="padding-right: 10px; white-space: nowrap;"><label for="fontimportinvert">Invert result</label></td>
                    <td style="width: 150px"><input style="height:20px;" onchange="updateUploadedFontPreview()" type="checkbox" id="fontimportinvert" name="fontimportinvert"></td>
                </tr>
            </table>
            <p style="font-size: 14px; font-style: italic;">For optimal results, manually clean up the glyphs after conversion.</p>
            <div style="display: flex; float:right; margin-top: 10px;">
                <button onclick="closeModal()" class="textbtn leftbarbtn" style="margin-left: 10px; width: auto;font-size:inherit">Cancel</button>
                <button onclick="importUploadedFont()" class="textbtn leftbarbtn" style="margin-left: 10px; width: auto;font-size:inherit">Import font</button>
            </div>
        </div>

        <div id="resizemodal" class="modal hidden">
            <h1>Resize font</h1>
            <p id="newfontdims">New font dimensions:</p>
            <label for="resizefontmodal_char" style="padding-right: 10px; white-space: nowrap;font-size:14px;">Preview character</label><input id="resizefontmodal_char" name="resizefontmodal_char" onchange="updateResizePreview()" maxlength="1" style="width: 28px">
            
            <hr style="border: none; border-top: 1px solid var(--lbartxt); opacity: 0.5">
            <table style="vertical-align: middle;margin: 5px auto 0;">
                <tr>
                    <td></td>
                    <td>
                        <button onclick="fontResizeIncr('n')" class="toolbtn plus"  style="margin:1px auto;width: auto;height:24px;padding:0 4px;"></button>
                        <button onclick="fontResizeDecr('n')" class="toolbtn minus" style="margin:1px auto;width: auto;height:24px;padding:0 4px;"></button>
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td style="white-space: nowrap;">
                         <button onclick="fontResizeIncr('w')" class="toolbtn plus"  style="display:inline-block;margin:1px auto;height: auto;width:24px;padding:4px 0;"></button
                        ><button onclick="fontResizeDecr('w')" class="toolbtn minus" style="display:inline-block;margin:1px;height: auto;width:24px;padding:4px 0;"></button>
                    </td>
                    <td>
                        <div class="importfont_glyph">
                            <canvas id="prevcanvR"></canvas>
                        </div>
                    </td>
                    <td style="white-space: nowrap;">
                        <button onclick="fontResizeDecr('e')" class="toolbtn minus" style="display:inline-block;margin:1px auto;height: auto;width:24px;padding:4px 0;"></button
                       ><button onclick="fontResizeIncr('e')" class="toolbtn plus"  style="display:inline-block;margin:1px;height: auto;width:24px;padding:4px 0;"></button>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <button onclick="fontResizeDecr('s')" class="toolbtn minus" style="margin:1px auto;width: auto;height:24px;padding:0 4px;"></button>
                        <button onclick="fontResizeIncr('s')" class="toolbtn plus"  style="margin:1px auto;width: auto;height:24px;padding:0 4px;"></button>
                    </td>
                    <td></td>
                </tr>
            </table>
            <hr style="border: none; border-top: 1px solid var(--lbartxt); opacity: 0.5">
            <p style="font-size: 14px; font-style: italic;">This action cannot be undone with the undo feature.</p>
            <div style="display: flex; float:right; margin-top: 10px;">
                <button onclick="closeModal()" class="textbtn leftbarbtn" style="margin-left: 10px; width: auto;font-size:inherit">Cancel</button>
                <button onclick="resizeFont()" class="textbtn leftbarbtn" style="margin-left: 10px; width: auto;font-size:inherit">Resize font</button>
            </div>
        </div>
    </div>
<!-- </dialog> -->
</div>

<script src="groups.js"></script>
<script src="tophat.js"></script>
</body>
</html>